import{d as P,r as m,o as i,i as p,w as y,f as $,v as V,R as M,c as g,a as w,u as A,h as L,t as C,s as N,X as R,S as q,j as v,b as E,k as h,F as O,W as j,g as F}from"./index-8c4b8b6b.js";import{b as T,P as b}from"./InfoBox.vue_vue_type_script_setup_true_lang-cf02f3fe.js";const G=P({__name:"MessageBox",setup(_,{expose:l}){const o=m(!1),f=m(""),s=m(""),r=m(()=>{console.warn("Accepted not set.")}),t=()=>{r.value()};return l({show:a=>{f.value=a.title,s.value=a.message,o.value=!0,r.value=a.accept}}),(a,e)=>{const u=M;return i(),p(u,{ref:"removeTradeModal",modelValue:o.value,"onUpdate:modelValue":e[0]||(e[0]=d=>o.value=d),title:f.value,onOk:t,onCancel:e[1]||(e[1]=d=>o.value=!1)},{default:y(()=>[$(V(s.value),1)]),_:1},8,["modelValue","title"])}}}),D={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},H=w("path",{fill:"currentColor",d:"M12 17a2 2 0 0 0 2-2a2 2 0 0 0-2-2a2 2 0 0 0-2 2a2 2 0 0 0 2 2m6-9a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V10a2 2 0 0 1 2-2h1V6a5 5 0 0 1 5-5a5 5 0 0 1 5 5v2h1m-6-5a3 3 0 0 0-3 3v2h6V6a3 3 0 0 0-3-3Z"},null,-1),I=[H];function K(_,l){return i(),g("svg",D,I)}const U={name:"mdi-lock",render:K},W=["title"],X=P({__name:"PairSummary",props:{pairlist:{required:!0,type:Array},currentLocks:{required:!1,type:Array,default:()=>[]},trades:{required:!0,type:Array},sortMethod:{default:"normal",type:String},backtestMode:{required:!1,default:!1,type:Boolean}},setup(_){const l=_,o=A(),f=L(()=>{const s=[];return l.pairlist.forEach(r=>{const t=l.trades.filter(n=>n.pair===r),c=l.currentLocks.filter(n=>n.pair===r);let a="",e;c.sort((n,S)=>n.lock_end_timestamp>S.lock_end_timestamp?-1:1),c.length>0&&([e]=c,a=`${C(e.lock_end_timestamp)} - ${e.reason}`);let u="",d=0,x=0;t.forEach(n=>{d+=n.profit_ratio,x+=n.profit_abs??0});const B=t.length,k=B?t[0]:void 0;t.length>0&&(u=`Current profit: ${N(d)}`),k&&(u+=`
Open since: ${C(k.open_timestamp)}`),s.push({pair:r,trade:k,locks:e,lockReason:a,profitString:u,profit:d,profitAbs:x,tradeCount:B})}),l.sortMethod==="profit"?s.sort((r,t)=>r.profit>t.profit?-1:1):s.sort((r,t)=>r.trade&&!t.trade?-1:r.trade&&t.trade?r.trade.trade_id>t.trade.trade_id?1:-1:!r.locks&&t.locks?-1:r.locks&&t.locks?r.locks.lock_end_timestamp>t.locks.lock_end_timestamp?1:-1:1),s});return(s,r)=>{const t=U,c=j,a=R;return i(),p(a,null,{default:y(()=>[(i(!0),g(O,null,q(f.value,e=>(i(),p(c,{key:e.pair,button:"",class:"d-flex justify-content-between align-items-center py-1",active:e.pair===v(o).activeBot.selectedPair,title:`${e.pair} - ${e.tradeCount} trades`,onClick:u=>v(o).activeBot.selectedPair=e.pair},{default:y(()=>[w("div",null,[$(V(e.pair)+" ",1),e.locks?(i(),g("span",{key:0,title:e.lockReason},[E(t)],8,W)):h("",!0)]),e.trade&&!_.backtestMode?(i(),p(T,{key:0,trade:e.trade},null,8,["trade"])):h("",!0),_.backtestMode&&e.tradeCount>0?(i(),p(b,{key:1,"profit-ratio":e.profit,"profit-abs":e.profitAbs,"stake-currency":v(o).activeBot.stakeCurrency},null,8,["profit-ratio","profit-abs","stake-currency"])):h("",!0)]),_:2},1032,["active","title","onClick"]))),128))]),_:1})}}});const J=F(X,[["__scopeId","data-v-f9294618"]]);export{J as P,G as _};
//# sourceMappingURL=PairSummary-cbeab127.js.map
